{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useRef, useCallback } from 'react';\nconst useInactivityTimeout = (timeoutMinutes = 5, onTimeout) => {\n  _s();\n  const [isActive, setIsActive] = useState(true);\n  const timeoutRef = useRef(null);\n  const lastActivityRef = useRef(Date.now());\n  const resetTimeout = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    lastActivityRef.current = Date.now();\n    setIsActive(true);\n    timeoutRef.current = setTimeout(() => {\n      setIsActive(false);\n      onTimeout();\n    }, timeoutMinutes * 60 * 1000); // Convert minutes to milliseconds\n  };\n  const handleActivity = () => {\n    resetTimeout();\n  };\n  useEffect(() => {\n    // Set up event listeners for user activity\n    const events = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart', 'click'];\n    events.forEach(event => {\n      document.addEventListener(event, handleActivity, true);\n    });\n\n    // Initialize the timeout\n    resetTimeout();\n\n    // Cleanup function\n    return () => {\n      events.forEach(event => {\n        document.removeEventListener(event, handleActivity, true);\n      });\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, [timeoutMinutes, onTimeout, handleActivity, resetTimeout]);\n  return {\n    isActive,\n    resetTimeout\n  };\n};\n_s(useInactivityTimeout, \"T6cr9PsGTpdlWYedelks3N6sOSM=\");\nexport default useInactivityTimeout;","map":{"version":3,"names":["useState","useEffect","useRef","useCallback","useInactivityTimeout","timeoutMinutes","onTimeout","_s","isActive","setIsActive","timeoutRef","lastActivityRef","Date","now","resetTimeout","current","clearTimeout","setTimeout","handleActivity","events","forEach","event","document","addEventListener","removeEventListener"],"sources":["/Users/tobysauze/Documents/code/social dev app/client/src/hooks/useInactivityTimeout.js"],"sourcesContent":["import { useState, useEffect, useRef, useCallback } from 'react';\n\nconst useInactivityTimeout = (timeoutMinutes = 5, onTimeout) => {\n  const [isActive, setIsActive] = useState(true);\n  const timeoutRef = useRef(null);\n  const lastActivityRef = useRef(Date.now());\n\n  const resetTimeout = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    lastActivityRef.current = Date.now();\n    setIsActive(true);\n\n    timeoutRef.current = setTimeout(() => {\n      setIsActive(false);\n      onTimeout();\n    }, timeoutMinutes * 60 * 1000); // Convert minutes to milliseconds\n  };\n\n  const handleActivity = () => {\n    resetTimeout();\n  };\n\n  useEffect(() => {\n    // Set up event listeners for user activity\n    const events = [\n      'mousedown',\n      'mousemove',\n      'keypress',\n      'scroll',\n      'touchstart',\n      'click'\n    ];\n\n    events.forEach(event => {\n      document.addEventListener(event, handleActivity, true);\n    });\n\n    // Initialize the timeout\n    resetTimeout();\n\n    // Cleanup function\n    return () => {\n      events.forEach(event => {\n        document.removeEventListener(event, handleActivity, true);\n      });\n      \n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, [timeoutMinutes, onTimeout, handleActivity, resetTimeout]);\n\n  return { isActive, resetTimeout };\n};\n\nexport default useInactivityTimeout;\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AAEhE,MAAMC,oBAAoB,GAAGA,CAACC,cAAc,GAAG,CAAC,EAAEC,SAAS,KAAK;EAAAC,EAAA;EAC9D,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAMU,UAAU,GAAGR,MAAM,CAAC,IAAI,CAAC;EAC/B,MAAMS,eAAe,GAAGT,MAAM,CAACU,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC;EAE1C,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzB,IAAIJ,UAAU,CAACK,OAAO,EAAE;MACtBC,YAAY,CAACN,UAAU,CAACK,OAAO,CAAC;IAClC;IAEAJ,eAAe,CAACI,OAAO,GAAGH,IAAI,CAACC,GAAG,CAAC,CAAC;IACpCJ,WAAW,CAAC,IAAI,CAAC;IAEjBC,UAAU,CAACK,OAAO,GAAGE,UAAU,CAAC,MAAM;MACpCR,WAAW,CAAC,KAAK,CAAC;MAClBH,SAAS,CAAC,CAAC;IACb,CAAC,EAAED,cAAc,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;EAClC,CAAC;EAED,MAAMa,cAAc,GAAGA,CAAA,KAAM;IAC3BJ,YAAY,CAAC,CAAC;EAChB,CAAC;EAEDb,SAAS,CAAC,MAAM;IACd;IACA,MAAMkB,MAAM,GAAG,CACb,WAAW,EACX,WAAW,EACX,UAAU,EACV,QAAQ,EACR,YAAY,EACZ,OAAO,CACR;IAEDA,MAAM,CAACC,OAAO,CAACC,KAAK,IAAI;MACtBC,QAAQ,CAACC,gBAAgB,CAACF,KAAK,EAAEH,cAAc,EAAE,IAAI,CAAC;IACxD,CAAC,CAAC;;IAEF;IACAJ,YAAY,CAAC,CAAC;;IAEd;IACA,OAAO,MAAM;MACXK,MAAM,CAACC,OAAO,CAACC,KAAK,IAAI;QACtBC,QAAQ,CAACE,mBAAmB,CAACH,KAAK,EAAEH,cAAc,EAAE,IAAI,CAAC;MAC3D,CAAC,CAAC;MAEF,IAAIR,UAAU,CAACK,OAAO,EAAE;QACtBC,YAAY,CAACN,UAAU,CAACK,OAAO,CAAC;MAClC;IACF,CAAC;EACH,CAAC,EAAE,CAACV,cAAc,EAAEC,SAAS,EAAEY,cAAc,EAAEJ,YAAY,CAAC,CAAC;EAE7D,OAAO;IAAEN,QAAQ;IAAEM;EAAa,CAAC;AACnC,CAAC;AAACP,EAAA,CAtDIH,oBAAoB;AAwD1B,eAAeA,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}